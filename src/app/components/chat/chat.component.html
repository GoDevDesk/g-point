<div class="fixed bottom-4 right-4 max-w-sm w-full bg-white shadow-lg rounded-lg border border-gray-300 flex flex-col">
  <!-- Encabezado del chat -->
  <div class="bg-gray-100 px-4 py-2 flex justify-between items-center rounded-t-lg">
    <h2 class="text-lg font-bold text-gray-800">Chat</h2>
    <button class="text-gray-500 hover:text-gray-800" (click)="closeChat()">âœ–</button>
  </div>

  <!-- Cuerpo del chat -->
  <div id="messageContainer" #messageContainer class="flex-1 overflow-y-auto p-4">
    <div
      *ngFor="let message of messages"
      [ngClass]="{'my-message': message.senderId === currentUserLoggedId, 'other-message': message.senderId !== currentUserLoggedId}"
      class="mb-2 flex"
    >
      <!-- Mensajes propios -->
      <div *ngIf="message.senderId === currentUserLoggedId" class="mr-auto text-left">
        <span class="block text-sm font-bold text-blue-700">Yo:</span>
        <p class="bg-blue-100 text-blue-800 rounded-lg px-3 py-1">{{ message.message }}</p>
      </div>

      <!-- Mensajes de otros -->
      <div *ngIf="message.senderId !== currentUserLoggedId" class="ml-auto text-right">
        <span class="block text-sm font-bold text-gray-700">{{ message.senderId }}:</span>
        <p class="bg-gray-100 text-gray-800 rounded-lg px-3 py-1">{{ message.message }}</p>
      </div>
    </div>
  </div>

  <!-- Pie del chat -->
  <div class="px-4 py-2 bg-gray-50 rounded-b-lg">
    <div class="flex items-center">
      <input [(ngModel)]="newMessage" class="flex-grow border border-gray-300 rounded-lg px-4 py-2 text-sm" placeholder="Escribe un mensaje..." />
      <button class="ml-2 bg-blue-500 text-white px-4 py-2 rounded-lg text-sm" (click)="sendMessage()">Enviar</button>
    </div>
  </div>
</div>
